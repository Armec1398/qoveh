<!DOCTYPE html>
<html data-bs-theme="light" lang="en">
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, shrink-to-fit=no"
    />
    <meta
      name="description"
      content="داشبورد ادمین - سامانه جامع جذب و گزینش داوطلبان تصدی منصب قضا"
    />
    <title>داشبورد ادمین</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../../static/bootstrap/css/bootstrap.min.css"
    />
    <link rel="stylesheet" href="../../static/fonts/fontawesome-all.min.css" />
    <link rel="stylesheet" href="../../static/fonts/font-awesome.min.css" />
    <link
      rel="stylesheet"
      href="../../static/fonts/fontawesome5-overrides.min.css"
    />
    <link rel="stylesheet" type="text/css" href="../../static/css/style.css" />
    <link
      rel="stylesheet"
      type="text/css"
      href="../../static/css/dashboard.css"
    />
    <link
      rel="stylesheet"
      type="text/css"
      href="../../static/css/IRANSans.css"
    />
  </head>

  <body>
    <div id="wrapper" class="dashboard-container position-relative">
      <nav
        class="navbar align-items-start sidebar sidebar-light accordion p-0 m-0 navbar-dark py-4"
        style="flex-wrap: nowrap"
      >
        <div
          class="container-fluid d-flex flex-column p-0 w-full align-items-center mx-auto"
        >
          <span id="closeSidebar" class="close-sidebar d-block d-lg-none"
            >×</span
          >
          <div
            class="navbar-brand d-flex justify-content-center align-items-center flex-column m-0 w-100"
          >
            <div class="text-center my-3">
              <img
                class="w-50 mb-1"
                src="../../static/img/logo.jpeg"
                style="mix-blend-mode: multiply"
              />
              <div class="nastaligh primary-color" style="font-size: 17px">
                معاونت منابع انسانی
              </div>
            </div>
          </div>
          <hr class="sidebar-divider my-0" />
          <ul
            class="navbar-nav text-light w-100 ps-3 gap-2"
            id="accordionSidebar"
          >
            <li class="nav-item active">
              <a
                class="nav-link rounded-small"
                href="../../dashboard-user.html"
              >
                <i class="fa fa-home"></i>
                <span>داشبورد</span>
              </a>
            </li>
            <li class="nav-item">
              <a
                class="nav-link rounded-small"
                href="../../admin/dashboard-admin.html"
              >
                <i class="fa fa-home"></i>
                <span>داشبورد ادمین</span>
              </a>
            </li>
            <li class="nav-item">
              <a class="nav-link rounded-small" href="../../login.html">
                <i class="fa fa-home"></i>
                <span>ورود/عضویت</span>
              </a>
            </li>
            <li class="nav-item">
              <a class="nav-link rounded-small" href="#">
                <i class="fa fa-user"></i>
                <span>منوی دوم</span></a
              >
            </li>
            <li class="nav-item">
              <a class="nav-link rounded-small" href="#">
                <i class="fa fa-user"></i>
                <span>منوی سوم</span></a
              >
            </li>
            <li class="nav-item">
              <a class="nav-link rounded-small" href="#">
                <i class="fa fa-user"></i>
                <span>منوی چهارم</span></a
              >
            </li>
            <div class="divider-sidebar my-2">
              <span>مصاحبه ها</span>
            </div>
            <li class="nav-item">
              <a class="nav-link rounded-small" href="#">
                <i class="fa fa-user"></i>
                <span>منوی پنجم</span></a
              >
            </li>
            <li class="nav-item">
              <a class="nav-link rounded-small" href="#">
                <i class="fa fa-user"></i>
                <span>منوی ششم</span></a
              >
            </li>
            <li class="nav-item">
              <a class="nav-link rounded-small" href="#">
                <i class="fa fa-user"></i>
                <span>منوی هفتم</span></a
              >
            </li>
          </ul>
          <div
            class="my-2 d-flex justify-content-center align-items-center gap-3 flex-row"
          >
            <a
              class="text-white fw-bold d-flex justify-content-center align-items-center py-2 w-100"
              role="button"
              href="#"
              ><img
                src="../../static/img/eitaa.webp"
                width="30px"
                height="30px"
                alt=""
            /></a>
            <a
              class="text-white fw-bold d-flex justify-content-center align-items-center py-2 w-100"
              role="button"
              href="#"
              ><img
                src="../../static/img/sorush.png"
                width="30px"
                height="30px"
                alt=""
            /></a>
            <a
              class="text-white fw-bold d-flex justify-content-center align-items-center py-2 w-100"
              role="button"
              href="#"
              ><img
                src="../../static/img/bale.png"
                width="30px"
                height="30px"
                alt=""
            /></a>
            <a
              class="text-white fw-bold d-flex justify-content-center align-items-center py-2 w-100"
              role="button"
              href="#"
              ><img
                src="../../static/img/igap.png"
                width="30px"
                height="30px"
                alt=""
            /></a>
          </div>
        </div>
      </nav>
      <div
        class="d-flex flex-column pb-4 bg-white"
        id="content-wrapper"
        style="border-right: 1px solid #e9eced"
      >
        <div id="content">
          <nav
            class="navbar navbar-expand bg-white mb-3 topbar static-top navbar-light px-md-3"
            style="border-right: 0"
          >
            <div class="container-fluid px-1 px-lg-4">
              <button
                class="btn bg-transparent border-0 d-flex d-lg-none rounded-circle me-lg-3"
                id="sidebarToggleTop"
                type="button"
              >
                <i
                  class="fa fa-bars text-black font-size-medium"
                  style="margin-top: 4px"
                ></i>
              </button>
              <div id="overlay" class="overlay"></div>
              <div class="ms-auto">
                <a
                  class="d-flex justify-content-center align-items-center rounded-medium"
                  href="#"
                  style="border: 0; text-decoration: none"
                  ><img
                    class="ms-2 d-none d-lg-block"
                    src="../../static/img/user.png"
                    style="width: 40px; height: 40px; color: #fff"
                  />
                  <p class="text-black d-flex">
                    <span style="display: inline-block; margin-bottom: 7px"
                      >محمدرضا آرمانیان</span
                    >
                  </p>
                </a>
              </div>
              <ul class="navbar-nav flex-nowrap d-flex">
                <li class="nav-item dropdown no-arrow d-flex flex-row gap-2">
                  <a
                    class="btn text-black bg-transparent border-0 d-flex justify-content-center align-items-center py-2 px-2 position-relative"
                    role="button"
                    href="#"
                    ><i class="fa fa-bell text-black font-size-medium"></i
                    ><span
                      class="badge bg-danger rounded-circle d-flex justify-content-center align-items-center position-absolute"
                      style="width: 16px; height: 16px; top: -5px; right: 10%"
                      >3</span
                    ></a
                  >
                </li>
              </ul>
            </div>
          </nav>
          <div class="container px-3 px-sm-4">
            <div class="row d-flex mb-3 mb-md-4">
              <div class="col-lg-12 px-sm-3">
                <div class="stepper-container" id="stepper"></div>
              </div>
            </div>
            <div class="row d-flex mb-3">
              <div class="col-lg-12 px-sm-3">
                <div class="">
                  <h1 class="text-black main-heading mb-0">
                    اطلاعات سابقه ی ایثارگری اعضای خانواده
                  </h1>
                </div>
              </div>
            </div>
            <div class="row d-flex">
              <div class="col-lg-12 px-sm-3">
                <div
                  class="content bg-white shadow-sm rounded-medium py-2 py-sm-4 px-3 px-sm-4"
                >
                  <div class="w-100 d-flex justify-content-center mb-3">
                    <h5 class="divider-title primary-color mb-0">
                      <span>اطلاعات سابقه ی ایثارگری اعضای خانواده</span>
                    </h5>
                  </div>
                  <span class="text-black d-block pb-1"
                    >موردی ثبت نشده است.</span
                  >
                  <div class="w-100 d-flex justify-content-center mb-3">
                    <h5 class="divider-title primary-color mb-0">
                      <span>نمونه جدید</span>
                    </h5>
                  </div>
                  <form id="jebhehForm">
                    <div class="row">
                      <div class="col-md-6 mb-3">
                        <label class="form-label"
                          ><span style="color: #ff4d4f">*</span> نام و نام
                          خانوادگی</label
                        >
                        <input
                          type="text"
                          class="form-control required"
                          name="fullname"
                          placeholder="نام و نام خانوادگی (مثال: علی رضایی)"
                        />
                      </div>
                      <div class="col-md-6 mb-3">
                        <label class="form-label"
                          ><span style="color: #ff4d4f">*</span> نسبت</label
                        >
                        <select
                          class="form-select required"
                          name="relation"
                          id="relationSelect"
                        >
                          <option value="">انتخاب کنید</option>
                          <option value="خودم">خودم</option>
                          <option value="پدر">پدر</option>
                          <option value="مادر">مادر</option>
                          <option value="برادر">برادر</option>
                          <option value="خواهر">خواهر</option>
                          <option value="فرزند">فرزند</option>
                          <option value="همسر">همسر</option>
                        </select>
                      </div>
                      <div class="col-md-6 mb-3">
                        <label class="form-label"
                          ><span style="color: #ff4d4f">*</span> نوع
                          ایثارگری</label
                        >
                        <select
                          class="form-select required"
                          name="isargari_type"
                          id="isargariTypeSelect"
                        >
                          <option value="">انتخاب کنید</option>
                          <option value="رزمنده">رزمنده</option>
                          <option value="جانباز">جانباز</option>
                          <option value="آزاده">آزاده</option>
                          <option value="شهید">شهید</option>
                          <option value="سایر">سایر</option>
                        </select>
                      </div>
                      <div class="col-md-6 mb-3">
                        <label class="form-label"
                          ><span style="color: #ff4d4f">*</span> محل اعزام
                          (مثال: جبهه جنوب)</label
                        >
                        <input
                          type="text"
                          class="form-control required"
                          name="dispatch_location"
                          placeholder="محل اعزام (مثال: جبهه جنوب)"
                        />
                      </div>
                      <div
                        class="col-md-6 mb-3"
                        id="presenceDurationField"
                        style="display: none"
                      >
                        <label class="form-label"
                          ><span style="color: #ff4d4f">*</span> مدت حضور در
                          جبهه</label
                        >
                        <input
                          type="text"
                          class="form-control required"
                          name="presence_duration"
                          placeholder="مدت حضور (مثال: 6 ماه)"
                        />
                      </div>
                      <div
                        class="col-md-6 mb-3"
                        id="disabilityPercentField"
                        style="display: none"
                      >
                        <label class="form-label">درصد جانبازی</label>
                        <input
                          type="number"
                          class="form-control"
                          name="disability_percent"
                          placeholder="درصد جانبازی (مثال: 25)"
                          min="0"
                          max="100"
                        />
                      </div>
                      <div
                        class="col-md-6 mb-3"
                        id="captivityDurationField"
                        style="display: none"
                      >
                        <label class="form-label">مدت زمان اسارت</label>
                        <input
                          type="text"
                          class="form-control"
                          name="captivity_duration"
                          placeholder="مدت اسارت (مثال: 2 سال)"
                        />
                      </div>
                      <div class="col-md-6 mb-3">
                        <label class="form-label"
                          ><span style="color: #ff4d4f">*</span> تلفن</label
                        >
                        <input
                          type="text"
                          class="form-control required"
                          name="phone"
                          placeholder="تلفن (مثال: 09121234567)"
                        />
                      </div>
                    </div>
                    <div class="d-flex justify-content-between mt-4 gap-2">
                      <button
                        type="submit"
                        class="btn btn-primary px-4 submit-btn"
                      >
                        ثبت اطلاعات
                      </button>
                    </div>
                    <div class="d-flex justify-content-between mt-2 gap-2">
                      <button
                        type="button"
                        class="btn btn-primary px-4 next-btn"
                        onclick="window.location.href='contact/classmate.html'"
                      >
                        بعدی
                      </button>
                    </div>
                  </form>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <script src="../../static/js/jquery-3.7.1.min.js"></script>
    <script src="../../static/bootstrap/js/bootstrap.min.js"></script>
    <script src="../../static/js/theme.js"></script>
    <script src="../../static/js/dashboard.js"></script>
    <script src="../../static/js/form-control.js"></script>
    <script src="../../static/js/formcontrol.js"></script>
    <script>
      // تعریف مسیرهای صفحات برای navigation
      const pageRoutes = [
        "contact.html",
        "contact/prev-address.html",
        "family.html",
        "jebheh.html",
        "contact/related/family.html",
        "contact/related/coworker.html",
        "contact/related/neighbour.html",
        "contact/related/famous.html",
        "contact/classmate.html",
        "jebheh_history.html",
        "parties_member.html",
        "criminal_records.html",
        "addict_history.html",
        "disciplinarycommittee.html",
        "relative-disagreement.html",
        "final.html",
      ];

      // تعریف مراحل برای صفحه jebheh
      const stepTitles = [
        "اطلاعات تماس و سوابق",
        "سوابق سکونت",
        "اطلاعات اعضای خانواده",
        "اطلاعات سابقه ی ایثارگری اعضای خانواده",
        "اطلاعات افراد مورد وثوق 1",
        "اطلاعات افراد مورد وثوق 2",
        "اطلاعات افراد مورد وثوق 3",
        "اطلاعات افراد مورد وثوق 4",
        "اطلاعات افراد مورد وثوق 5",
        "اطلاعات سوابق حضور در جبهه",
        "اطلاعات افراد عضو در گروه های معاند",
        "سابقه عضویت در احزاب و گروه ها",
        "سوابق کیفری و دادگاهی",
        "سوابق اعتیاد",
        "سوابق کمیته انضباطی",
        "ثبت نهایی",
      ];

      const totalSteps = stepTitles.length;
      let currentStep = 4; // مرحله چهارم - اطلاعات سابقه ی ایثارگری اعضای خانواده

      // تابع navigation برای رفتن به مرحله بعدی
      function goToNextStep() {
        if (currentStep < totalSteps) {
          window.location.href = pageRoutes[8]; // contact/classmate.html
        }
      }

      // تابع navigation برای رفتن به مرحله قبلی
      function goToPreviousStep() {
        if (currentStep > 1) {
          window.location.href = pageRoutes[2]; // family.html
        }
      }

      // مدیریت dynamic fields بر اساس نوع ایثارگری
      document.addEventListener("DOMContentLoaded", function () {
        const isargariTypeSelect =
          document.getElementById("isargariTypeSelect");
        const presenceDurationField = document.getElementById(
          "presenceDurationField"
        );
        const disabilityPercentField = document.getElementById(
          "disabilityPercentField"
        );
        const captivityDurationField = document.getElementById(
          "captivityDurationField"
        );

        if (isargariTypeSelect) {
          isargariTypeSelect.addEventListener("change", function () {
            const selectedValue = this.value;

            // مخفی کردن همه فیلدهای dynamic
            presenceDurationField.style.display = "none";
            disabilityPercentField.style.display = "none";
            captivityDurationField.style.display = "none";

            // نمایش فیلدهای مربوطه بر اساس انتخاب
            switch (selectedValue) {
              case "رزمنده":
                presenceDurationField.style.display = "block";
                break;
              case "جانباز":
                presenceDurationField.style.display = "block";
                disabilityPercentField.style.display = "block";
                break;
              case "آزاده":
                presenceDurationField.style.display = "block";
                captivityDurationField.style.display = "block";
                break;
              case "شهید":
                presenceDurationField.style.display = "block";
                break;
              case "سایر":
                // هیچ فیلد اضافه‌ای نمایش داده نمی‌شود
                break;
            }
          });
        }

        // مدیریت فرم
        const jebhehForm = document.getElementById("jebhehForm");
        if (jebhehForm) {
          jebhehForm.addEventListener("submit", function (e) {
            e.preventDefault();

            // اعتبارسنجی فرم
            const requiredFields = jebhehForm.querySelectorAll(".required");
            let isValid = true;

            requiredFields.forEach((field) => {
              if (!field.value.trim()) {
                field.classList.add("is-invalid");
                isValid = false;
              } else {
                field.classList.remove("is-invalid");
              }
            });

            if (isValid) {
              // ارسال فرم
              console.log("فرم با موفقیت ارسال شد");
              alert("اطلاعات با موفقیت ثبت شد");
              // می‌توانید اینجا کد ارسال به سرور را اضافه کنید
            } else {
              alert("لطفاً تمام فیلدهای اجباری را پر کنید");
            }
          });
        }
      });

      const renderStepper = () => {
        const container = document.getElementById("stepper");
        container.innerHTML = "";

        if (currentStep > 2) {
          const dotsPrev = document.createElement("div");
          dotsPrev.className = "step dots";
          dotsPrev.textContent = "مرحله قبل";
          dotsPrev.addEventListener("click", goToPreviousStep);
          container.appendChild(dotsPrev);
        }

        if (currentStep > 1) {
          const prev = document.createElement("div");
          prev.className = "step prev";
          prev.textContent = stepTitles[currentStep - 2];
          prev.addEventListener("click", goToPreviousStep);
          container.appendChild(prev);
        }

        const curr = document.createElement("div");
        curr.className = "step current";
        curr.textContent = stepTitles[currentStep - 1];
        container.appendChild(curr);

        if (currentStep < totalSteps) {
          const next = document.createElement("div");
          next.className = "step next";
          next.textContent = stepTitles[currentStep];
          next.addEventListener("click", goToNextStep);
          container.appendChild(next);
        }

        if (currentStep < totalSteps - 1) {
          const dotsNext = document.createElement("div");
          dotsNext.className = "step dots";
          dotsNext.textContent = "مرحله بعد";
          dotsNext.addEventListener("click", goToNextStep);
          container.appendChild(dotsNext);
        }
      };

      // اجرای stepper هنگام بارگذاری صفحه
      document.addEventListener("DOMContentLoaded", function () {
        renderStepper();
      });
    </script>
  </body>
</html>
